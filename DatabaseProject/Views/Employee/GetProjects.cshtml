@model IEnumerable<DatabaseProject.Models.EmployeeProjectsViewModel>

@{
    ViewData["Title"] = "Projelerim";
    Layout = "_employeeNavBar";
}

<div class="fixed-background"></div>

<div class="container mt-5">
    <div class="glass-card p-4">
        
        <div class="d-flex justify-content-between align-items-center mb-4 border-bottom border-secondary pb-3">
            <div>
                <h2 class="mb-0"> Active Projects</h2>
                <span class="text-white-50 small">Assigned Project List</span>
            </div>
            <span class="badge bg-primary px-3 py-2 rounded-pill">Toplam: @Model.Count()</span>
        </div>

        @if (!Model.Any())
        {
            <div class="text-center py-5">
                <div class="fs-1 mb-3">📂</div>
                <h4>You have no project yet.</h4>
                <p class="text-white-50"> There is no project which is assigned to you now.</p>
            </div>
        }
        else
        {
            <div class="table-responsive">
                <table class="table table-dark table-hover table-transparent">
                    <thead>
                        <tr>
                            <th scope="col" class="text-primary ps-3">Project Name</th>
                            <th scope="col">Explanation</th>
                            <th scope="col">Release Date</th>
                            <th scope="col" class="text-end pe-3">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                    @foreach (var project in Model)
                    {
                        <tr>
                            <td class="fw-bold ps-3 text-white">@project.Name</td>
                            <td class="text-white-50">@project.Description</td>
                            <td>
                                <i class="far fa-calendar-alt me-2 text-secondary"></i>
                                @project.ReleaseDate.ToString("dd.MM.yyyy")
                            </td>
                            <td class="text-end pe-3">
                                <span class="badge bg-success bg-opacity-25 text-success border border-success border-opacity-25">
                                    Active
                                </span>
                            </td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        }
        
        <div class="mt-4">
            <a asp-controller="Employee" asp-action="EmployeeDashboard" class="text-white-50 text-decoration-none hover-link">
                <i class="fas fa-arrow-left me-1"></i> Back to Panel
            </a>
        </div>
    </div>
</div>

<style>
    /* Background */
    .fixed-background {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
        background: linear-gradient(rgba(0,0,0,0.85), rgba(0,0,0,0.95)), 
                    url('https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
        background-size: cover;
    }

    /* Card */
    .glass-card {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        color: white;
    }

    
    .table-transparent {
        --bs-table-bg: transparent;
        --bs-table-color: white;
        --bs-table-border-color: rgba(255,255,255,0.05);
    }
    
    .table-transparent th {
        font-weight: 500; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px;
        padding-bottom: 15px;
    }
    
    .table-transparent td {
        vertical-align: middle; padding: 15px 5px;
    }
    
    .hover-link:hover { color: #0d6efd !important; text-decoration: underline !important; }
</style>